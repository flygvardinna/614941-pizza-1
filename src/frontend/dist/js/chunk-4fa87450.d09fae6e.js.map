{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/store/mocks/index.js","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./src/views/__tests__/Profile.spec.js","webpack:///./node_modules/core-js/internals/object-to-array.js"],"names":["_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","value","length","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","initState","notifications","generateMockStore","actions","modulesCopy","cloneDeep","modules","Object","entries","forEach","module","Vuex","Store","state","mutations","plugins","VuexPlugins","setPizzaItems","store","commit","SET_ENTITY","entity","id","name","doughId","sauceId","sizeId","ingredients","ingredientId","quantity","price","setAddresses","userId","street","building","flat","comment","setOrders","phone","addressId","orderAddress","orderMisc","miscId","orderId","orderPizzas","pizzaId","setUser","user","$","$entries","target","stat","O","localVue","createLocalVue","use","describe","wrapper","createComponent","options","shallowMount","ProfileView","beforeEach","Addresses","fetchAddresses","jest","fn","afterEach","destroy","it","vm","$nextTick","expect","toHaveBeenCalled","find","exists","toBeTruthy","toBeFalsy","editBtn","trigger","addressForm","$emit","addBtn","newAddressForm","DESCRIPTORS","uncurryThis","objectKeys","toIndexedObject","$propertyIsEnumerable","f","propertyIsEnumerable","createMethod","TO_ENTRIES","key","keys","result","exports","values"],"mappings":"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","file":"js/chunk-4fa87450.d09fae6e.js","sourcesContent":["export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import { cloneDeep } from \"lodash\";\n\nimport { mutations } from \"@/store\";\nimport modules from \"@/store/modules\";\nimport Vuex from \"vuex\";\nimport VuexPlugins from \"@/plugins/vuexPlugins\";\nimport { SET_ENTITY } from \"@/store/mutation-types\";\nimport pizzaData from \"@/static/pizza.json\";\nimport miscData from \"@/static/misc.json\";\nimport user from \"@/static/user\";\nimport { normalizeAdditionalItems } from \"@/common/helpers\";\n\nconst initState = () => ({\n  notifications: [],\n});\n\nexport const generateMockStore = (actions) => {\n  const modulesCopy = cloneDeep(modules);\n  if (actions) {\n    Object.entries(actions).forEach(([module, actions]) => {\n      modulesCopy[module] = { ...modulesCopy[module], actions };\n    });\n  }\n\n  return new Vuex.Store({\n    state: initState(),\n    mutations,\n    modules: modulesCopy,\n    plugins: [VuexPlugins],\n  });\n};\n\nexport const setDough = (store) => {\n  store.commit(SET_ENTITY, {\n    module: \"Builder\",\n    entity: \"dough\",\n    value: pizzaData.dough.map((dough, index) => {\n      return {\n        ...dough,\n        value: \"light\",\n        isChecked: index === 0,\n      };\n    }),\n  });\n};\n\nexport const setSizes = (store) => {\n  store.commit(SET_ENTITY, {\n    module: \"Builder\",\n    entity: \"sizes\",\n    value: pizzaData.sizes.map((size, index) => {\n      return {\n        ...size,\n        value: \"small\",\n        isChecked: index === 0,\n      };\n    }),\n  });\n};\n\nexport const setSauces = (store) => {\n  store.commit(SET_ENTITY, {\n    module: \"Builder\",\n    entity: \"sauces\",\n    value: pizzaData.sauces.map((sauce, index) => {\n      return {\n        ...sauce,\n        value: \"tomato\",\n        isChecked: index === 0,\n      };\n    }),\n  });\n};\n\nexport const setIngredients = (store) => {\n  store.commit(SET_ENTITY, {\n    module: \"Builder\",\n    entity: \"ingredients\",\n    value: pizzaData.ingredients.map((ingredient) => {\n      return {\n        ...ingredient,\n        value: \"mushrooms\",\n        quantity: 0,\n      };\n    }),\n  });\n};\n\nexport const setPizzaName = (store) => {\n  store.commit(SET_ENTITY, {\n    module: \"Builder\",\n    entity: \"pizzaName\",\n    value: \"testPizzaName\",\n  });\n};\n\nexport const setPizzaItems = (store) => {\n  store.commit(SET_ENTITY, {\n    module: \"Cart\",\n    entity: \"pizzaItems\",\n    value: [\n      {\n        id: \"1\",\n        name: \"Pizza name\",\n        doughId: 1,\n        sauceId: 1,\n        sizeId: 1,\n        ingredients: [\n          { ingredientId: 1, quantity: 1 },\n          { ingredientId: 2, quantity: 1 },\n        ],\n        price: 545,\n        quantity: 1,\n      },\n    ],\n  });\n};\n\nexport const setAdditionalItems = (store) => {\n  store.commit(SET_ENTITY, {\n    module: \"Cart\",\n    entity: \"additionalItems\",\n    value: miscData.map((item) => normalizeAdditionalItems(item)),\n  });\n};\n\nexport const setAddresses = (store) => {\n  store.commit(SET_ENTITY, {\n    module: \"Addresses\",\n    entity: \"addresses\",\n    value: [\n      {\n        id: 1,\n        name: \"Домик\",\n        userId: \"1\",\n        street: \"Зеленая\",\n        building: \"1\",\n        flat: \"1\",\n        comment: \"Не звоните\",\n      },\n    ],\n  });\n};\n\nexport const setOrders = (store) => {\n  store.commit(SET_ENTITY, {\n    module: \"Orders\",\n    entity: \"orders\",\n    value: [\n      {\n        id: 1,\n        userId: \"1\",\n        phone: \"+777 777 777\",\n        addressId: 1,\n        orderAddress: {\n          id: 1,\n          name: \"Домик\",\n          userId: \"1\",\n          street: \"Зеленая\",\n          building: \"1\",\n          flat: \"1\",\n          comment: \"\",\n        },\n        orderMisc: [{ id: 1, miscId: 1, orderId: 1, quantity: 0 }],\n        orderPizzas: [\n          {\n            id: 1,\n            name: \"Pizza name\",\n            doughId: 1,\n            sauceId: 1,\n            sizeId: 1,\n            ingredients: [\n              { id: 1, ingredientId: 1, pizzaId: 1, quantity: 1 },\n              { id: 2, ingredientId: 2, pizzaId: 1, quantity: 1 },\n            ],\n            quantity: 1,\n            orderId: 1,\n          },\n        ],\n      },\n    ],\n  });\n};\n\nexport const setUser = (store) => {\n  store.commit(SET_ENTITY, {\n    module: \"Auth\",\n    entity: \"user\",\n    value: user,\n  });\n};\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","import { shallowMount, createLocalVue } from \"@vue/test-utils\";\nimport { generateMockStore, setAddresses, setUser } from \"@/store/mocks\";\nimport Vuex from \"vuex\";\nimport ProfileView from \"@/views/Profile\";\n\nconst localVue = createLocalVue();\nlocalVue.use(Vuex);\n\ndescribe(\"ProfileView\", () => {\n  let actions;\n  let store;\n  let wrapper;\n  const createComponent = (options) => {\n    wrapper = shallowMount(ProfileView, options);\n  };\n\n  beforeEach(() => {\n    actions = {\n      Addresses: {\n        fetchAddresses: jest.fn(),\n      },\n    };\n\n    store = generateMockStore(actions);\n    setUser(store);\n    setAddresses(store);\n  });\n\n  afterEach(() => {\n    wrapper.destroy();\n  });\n\n  it(\"calls vuex action to fetch addresses when mounted\", async () => {\n    createComponent({ localVue, store });\n    await wrapper.vm.$nextTick();\n\n    expect(actions.Addresses.fetchAddresses).toHaveBeenCalled();\n  });\n\n  it(\"displays address card (not form) for each existing address\", () => {\n    createComponent({ localVue, store });\n    expect(wrapper.find('[data-test=\"address-card\"]').exists()).toBeTruthy();\n    expect(wrapper.find('[data-test=\"address-form\"]').exists()).toBeFalsy();\n  });\n\n  it(\"replaces address card to form when edit address button clicked\", async () => {\n    createComponent({ localVue, store });\n    const editBtn = wrapper.find('[data-test=\"edit-address-button\"]');\n    await editBtn.trigger(\"click\");\n    expect(wrapper.find('[data-test=\"address-form\"]').exists()).toBeTruthy();\n    expect(wrapper.find('[data-test=\"address-card\"]').exists()).toBeFalsy();\n  });\n\n  it(\"closes address form on close event\", async () => {\n    createComponent({ localVue, store });\n    const editBtn = wrapper.find('[data-test=\"edit-address-button\"]');\n    await editBtn.trigger(\"click\");\n    const addressForm = wrapper.find('[data-test=\"address-form\"]');\n    addressForm.vm.$emit(\"close\");\n    await wrapper.vm.$nextTick();\n\n    expect(addressForm.exists()).toBeFalsy();\n  });\n\n  it(\"displays news address form when add address button clicked\", async () => {\n    createComponent({ localVue, store });\n    const addBtn = wrapper.find('[data-test=\"add-address-button\"]');\n    await addBtn.trigger(\"click\");\n    const newAddressForm = wrapper.find('[data-test=\"new-address-form\"]');\n\n    expect(newAddressForm.exists()).toBeTruthy();\n  });\n\n  it(\"closes new address form on close event\", async () => {\n    createComponent({ localVue, store });\n    const addBtn = wrapper.find('[data-test=\"add-address-button\"]');\n    await addBtn.trigger(\"click\");\n    const newAddressForm = wrapper.find('[data-test=\"new-address-form\"]');\n    newAddressForm.vm.$emit(\"close\");\n    await wrapper.vm.$nextTick();\n\n    expect(newAddressForm.exists()).toBeFalsy();\n  });\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\nvar propertyIsEnumerable = uncurryThis($propertyIsEnumerable);\nvar push = uncurryThis([].push);\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable(O, key)) {\n        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n"],"sourceRoot":""}